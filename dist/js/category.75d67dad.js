(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category"],{6763:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"order"},[t("filter-pane",{attrs:{"filter-data":e.filterData},on:{filterMsg:e.filterMsg}}),t("table-pane",{attrs:{"data-source":e.dataSource},on:{changeSize:e.changeSize,changeNum:e.changeNum}})],1)},n=[],r=(t("aa0c"),t("d835"),t("8a82"),t("0b10"),t("9940"),t("caaf")),o=t.n(r),s=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return e?o()(e).format(a):e},d=function(e,a){var t=new Date(+e+Math.random()*(a-e)),i=0+23*Math.random()|0,n=0+59*Math.random()|0,r=0+59*Math.random()|0;return t.setHours(i),t.setMinutes(n),t.setSeconds(r),t},h=t("4ff3"),l=t.n(h),c={name:"DynamicShare",data:function(){return{filterData:{timeSelect:{width:230},elinput:[{name:"脸影号",width:230,key:"userId"},{name:"动态ID",width:230,key:"dynamicId"},{name:"分享ID",width:230,key:"shareId"}],elselect:[{name:"部门",key:"department",width:230,option:[{key:1,value:"技术部"},{key:2,value:"市场部"}]}]},dataSource:{tool:[{name:"新增版本",key:1,handleClick:this.handleAdd,bgColor:""},{name:"修改版本",key:2,type:"success",handleClick:this.handleEdit,bgColor:""},{name:"查看详情",key:3,type:"info",handleClick:this.handleView,bgColor:""}],data:[],cols:[{label:"头像",prop:"headImg",isImagePopover:!0,width:70},{label:"动态id",prop:"dynamicId",width:100},{label:"分享id",prop:"id",width:100},{label:"分享人脸影号",prop:"userId"},{label:"分享人昵称",prop:"nickName"},{label:"分享的时间",prop:"shareTime",isCodeTableFormatter:function(e){return s(e.shareTime)}},{label:"过期时间",prop:"expireTime",isCodeTableFormatter:function(e){return s(e.expireTime)}},{label:"分享渠道",prop:"shareChannel",isCodeTableFormatter:function(e){return 1===e.shareChannel?"IOS":"Android"}},{label:"分享平台",prop:"shareToWhere",isCodeTableFormatter:function(e){return 1===e.shareToWhere?"朋友圈":2===e.shareToWhere?"微信好友":3===e.shareToWhere?"qq空间":4===e.shareToWhere?"qq好友":5===e.shareToWhere?"新浪微博":6===e.shareToWhere?"脸影好友":void 0}}],handleSelectionChange:function(){},isSelection:!1,isOperation:!0,isIndex:!0,loading:!0,border:!1,size:"mini",pageData:{total:0,pageSize:10,pageNum:1},operation:{label:"操作",width:"100",data:[{label:"推荐",type:"icon",icon:"visits",handleRow:this.handleRow},{label:"删除",type:"danger",handleRow:this.handleRow}]}},dialogAdd:!1,msg:{},startShareTime:this.$moment().startOf("month").toDate(),endShareTime:new Date,startExpireTime:this.$moment().startOf("month").toDate(),endExpireTime:new Date("2025-12-12")}},created:function(){this.getList()},methods:{getList:function(){var e=this,a={page:this.dataSource.pageData.pageNum,limit:this.dataSource.pageData.pageSize};if(this.msg.userId){var t=/^\d{9,10}$/;if(!t.test(this.msg.userId))return void this.$message({type:"error",message:"请输入正确的脸影号"});a.userId=this.msg.userId}this.msg.beginDate&&(a.beginDate=this.msg.beginDate,a.endDate=this.msg.endDate),this.msg.dynamicId&&(a.dynamicId=this.msg.dynamicId),this.msg.shareId&&(a.shareId=this.msg.shareId),this.dataSource.loading=!0,l.a.get("https://cnodejs.org/api/v1/topics",{params:a}).then((function(a){if(e.dataSource.data=[],e.dataSource.pageData.total=0,a.data.success){setTimeout((function(){e.dataSource.loading=!1}),300);var t=a.data.data;a.data.data.length;t.forEach((function(a,t){e.dataSource.data.push({headImg:"https://picsum.photos/200/200?random="+(t+1),dynamicId:"dynamicId"+(10*(e.dataSource.pageData.pageNum-1)+(t+1)),id:"id"+(10*(e.dataSource.pageData.pageNum-1)+(t+1)),userId:"userId"+(10*(e.dataSource.pageData.pageNum-1)+(t+1)),nickName:"nickName"+(10*(e.dataSource.pageData.pageNum-1)+(t+1)),shareTime:e.$moment(d(e.startShareTime,e.endShareTime)).format("YYYY-MM-DD HH:mm:ss"),expireTime:e.$moment(d(e.startExpireTime,e.endExpireTime)).format("YYYY-MM-DD HH:mm:ss"),shareChannel:t+1,shareToWhere:t+1<=6?t+1:6})})),e.dataSource.pageData.total=29231}}))},filterMsg:function(e){this.msg=e,console.log(e),this.getList()},changeSize:function(e){this.dataSource.pageData.pageSize=e,this.getList()},changeNum:function(e){this.dataSource.pageData.pageNum=e,this.getList()},handleAdd:function(e,a){console.log("1--------",e,a)},handleEdit:function(e,a){console.log("2--------",e,a)},handleView:function(e,a){console.log("3--------",e,a)},handleRow:function(e,a,t){console.log("++++++++",e,a,t)}}},m=c,u=t("cba8"),g=Object(u["a"])(m,i,n,!1,null,"944e8a80",null);a["default"]=g.exports},9940:function(e,a,t){"use strict";var i=t("e907").PROPER,n=t("b13f"),r=t("fb2f"),o=t("69a8"),s=t("204f"),d=t("028b"),h="toString",l=RegExp.prototype,c=l[h],m=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=i&&c.name!=h;(m||u)&&n(RegExp.prototype,h,(function(){var e=r(this),a=o(e.source),t=e.flags,i=o(void 0===t&&e instanceof RegExp&&!("flags"in l)?d.call(e):t);return"/"+a+"/"+i}),{unsafe:!0})}}]);
//# sourceMappingURL=category.75d67dad.js.map